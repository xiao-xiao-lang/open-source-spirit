<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>开源精神 - 申请开源号</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🐧</text></svg>">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-code-branch"></i>
                <span>开源精神</span>
            </div>
            <div class="nav-menu">
                <a href="/" class="nav-link">
                    <i class="fas fa-search"></i>
                    <span>查询</span>
                </a>
                <a href="/apply.html" class="nav-link active">
                    <i class="fas fa-plus-circle"></i>
                    <span>申号</span>
                </a>
                <a href="/profile.html" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>我的</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- 主内容 -->
    <main class="container">
        <!-- 页面头部 -->
        <header class="page-header">
            <h1><i class="fas fa-plus-circle"></i> 申请开源号</h1>
            <p class="subtitle">为您的开源项目申请唯一标识符</p>
        </header>

        <!-- 登录提示 -->
        <div class="auth-prompt" id="auth-prompt">
            <div class="auth-prompt-icon">
                <i class="fas fa-user-lock"></i>
            </div>
            <h3>请先登录</h3>
            <p>登录后即可申请开源号，管理您的项目</p>
            <button id="goto-login" class="btn btn-primary">
                <i class="fas fa-sign-in-alt"></i> 前往登录
            </button>
        </div>

        <!-- 已登录内容 -->
        <div class="apply-content" id="apply-content" style="display: none;">
            <!-- 用户信息栏 -->
            <div class="user-info-bar">
                <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="user-details">
                    <h4 id="current-username">用户名</h4>
                    <p id="current-contact">联系方式</p>
                </div>
                <button class="btn btn-primary" id="new-project-btn">
                    <i class="fas fa-plus"></i> 新建开源项目
                </button>
            </div>

            <!-- 申请记录 -->
            <div class="applications-section">
                <div class="section-header">
                    <h3><i class="fas fa-history"></i> 我的申请记录</h3>
                    <div class="stats-badge">
                        <span id="applied-count">0</span> 个申请
                    </div>
                </div>
                
                <div class="applications-list" id="applications-list">
                    <!-- 申请记录会通过JS动态插入 -->
                    <div class="empty-applications">
                        <i class="fas fa-folder-open"></i>
                        <h3>暂无申请记录</h3>
                        <p>点击上方"新建开源项目"开始您的第一个申请</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 新建项目表单 (初始隐藏) -->
        <div class="new-project-form" id="new-project-form" style="display: none;">
            <div class="form-header">
                <h2><i class="fas fa-file-alt"></i> 新建开源项目申请</h2>
                <button class="btn btn-outline" id="back-to-list">
                    <i class="fas fa-arrow-left"></i> 返回列表
                </button>
            </div>

            <form id="project-form">
                <div class="form-group">
                    <label for="project-name">
                        <i class="fas fa-project-diagram"></i> 项目名称 *
                    </label>
                    <input 
                        type="text" 
                        id="project-name" 
                        placeholder="请输入您的开源项目名称"
                        required
                    >
                    <div class="form-hint">简洁明了地描述您的项目</div>
                </div>

                <div class="form-group">
                    <label for="first-repo-url">
                        <i class="fab fa-github"></i> 第一开源地址 *
                    </label>
                    <input 
                        type="url" 
                        id="first-repo-url" 
                        placeholder="https://github.com/username/repository"
                        required
                    >
                    <div class="form-hint">GitHub、Gitee、GitLab等代码仓库地址</div>
                </div>

                <div class="form-group">
                    <label for="second-repo-url">
                        <i class="fas fa-code-branch"></i> 第二开源地址 (可选)
                    </label>
                    <input 
                        type="url" 
                        id="second-repo-url" 
                        placeholder="https://gitee.com/username/repository"
                    >
                    <div class="form-hint">备用代码仓库地址，可不填</div>
                </div>

                <div class="form-group">
                    <label for="video-url">
                        <i class="fab fa-youtube"></i> 视频地址 *
                    </label>
                    <input 
                        type="url" 
                        id="video-url" 
                        placeholder="https://www.bilibili.com/video/BVxxxxxx"
                        required
                    >
                    <div class="form-hint">项目介绍、演示或教程视频链接</div>
                </div>

                <!-- 协议条款 -->
                <div class="terms-section">
                    <div class="terms-header">
                        <h4><i class="fas fa-file-contract"></i> 开源协议条款</h4>
                    </div>
                    <div class="terms-content">
                        <p>请仔细阅读并同意以下条款：</p>
                        <ol>
                            <li>项目必须为开源项目，遵循开源协议</li>
                            <li>不得上传违反国家法律法规的内容</li>
                            <li>不得包含色情、暴力、低俗等不良信息</li>
                            <li>不得侵犯他人知识产权</li>
                            <li>不得用于商业诈骗或非法活动</li>
                            <li>项目需有实际代码内容，不能为空项目</li>
                            <li>视频内容需与项目相关</li>
                            <li>同意项目信息在开源精神平台公开</li>
                        </ol>
                    </div>
                    <div class="terms-agree">
                        <input type="checkbox" id="agree-terms" required>
                        <label for="agree-terms">
                            我已阅读并同意上述条款，保证项目内容合法合规
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-outline" id="cancel-form">
                        取消
                    </button>
                    <button type="submit" class="btn btn-primary" id="submit-form">
                        <i class="fas fa-paper-plane"></i> 提交申请
                    </button>
                </div>
            </form>
        </div>
    </main>

    <!-- 申请成功弹窗 -->
    <div class="modal" id="success-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> 申请成功！</h3>
                <button class="modal-close" id="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="success-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <h4>您的开源号已生成</h4>
                <div class="open-source-id-display" id="generated-id">
                    KY202312ABC12
                </div>
                <p>请妥善保存您的开源号，用于项目查询和管理</p>
                
                <div class="success-details">
                    <p><strong>项目名称：</strong> <span id="success-project-name"></span></p>
                    <p><strong>申请时间：</strong> <span id="success-apply-time"></span></p>
                    <p><strong>状态：</strong> <span class="status-badge pending">审核中</span></p>
                </div>

                <div class="action-buttons">
                    <a href="/" class="btn btn-outline" id="go-to-search">
                        <i class="fas fa-search"></i> 去查询
                    </a>
                    <a href="#" class="btn btn-primary" id="download-video" target="_blank">
                        <i class="fas fa-download"></i> 下载开源需知视频
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- 底部导航栏 -->
    <div class="bottom-nav">
        <a href="/" class="bottom-nav-item">
            <i class="fas fa-search"></i>
            <span>查询</span>
        </a>
        <a href="/apply.html" class="bottom-nav-item active">
            <i class="fas fa-plus-circle"></i>
            <span>申号</span>
        </a>
        <a href="/profile.html" class="bottom-nav-item">
            <i class="fas fa-user"></i>
            <span>我的</span>
        </a>
    </div>

    <!-- 脚本 -->
    <script src="/js/main.js"></script>
    <script src="/js/apply.js"></script>
</body>
</html>